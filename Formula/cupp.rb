class Cupp < Formula
  desc "Common User Passwords Profiler (CUPP)"
  homepage "https://github.com/Mebus/cupp"
  url "https://github.com/Mebus/cupp/archive/refs/heads/master.tar.gz"
  version "3.3.0"
  sha256 "ed41544ba4307302ce2421b58e89c3cb540df6a3da40afbefa66e9fb50571034"
  license "GPL-3.0-only"

  depends_on "python3"

  def self.get_resource_url(resource)
    "https://raw.githubusercontent.com/s5zy/homebrew-pentest/main/" + resource
  end

  patch do
    url Cupp.get_resource_url("patches/0001-cupp-config-include.patch")
    sha256 "47b5d429ce89b44358087eb06ffe0b037a1974b98fa40baee01c0910a356ddb7"
  end

  def install
    bin.install "cupp.py" => "cupp"
    include.install "cupp.cfg"
  end

  test do
    system "true"
  end
end
